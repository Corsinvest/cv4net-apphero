@*
 * SPDX-FileCopyrightText: Copyright Corsinvest Srl
 * SPDX-License-Identifier: AGPL-3.0-only
*@
@page "/auth/password/reset/{email}/{*Token}"

@inherits AHComponentBase

@if (string.IsNullOrWhiteSpace(Token))
{
    <MudText Typo="Typo.h2" Style="color: var(--mud-palette-error);">@L["Toke in not valid"]</MudText>
}
else if (User == null)
{
    <MudText Typo="Typo.h2" Style="color: var(--mud-palette-error);">@L["User not valid"]</MudText>
}
else
{
    <AHPasswordsInput @bind-Value="Password" Label="@User.FullName" PasswordOptions="IdentityOptions.Value.Password" />

    <MudButton Variant="Variant.Filled"
           Color="Color.Primary"
           Size="Size.Large"
           OnClick="ChangePasswordAsync"
           Disabled="string.IsNullOrEmpty(Password)"
           FullWidth>@L["Change"]</MudButton>
}